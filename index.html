<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz - Perfil Maker (Fab Lab Rec)</title>
    <!-- Carrega o Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carrega as fontes (Baloo 2 para t√≠tulos, Sarabun para corpo) -->
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700&family=Sarabun:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* Define as novas fontes */
        body {
            font-family: 'Sarabun', sans-serif;
        }
        .font-title {
            font-family: 'Baloo 2', sans-serif;
        }
        /* Estilo customizado para o card */
        .quiz-card {
            background-color: #ffffff;
        }
        /* Classe utilit√°ria para esconder elementos */
        .hidden-view {
            display: none;
        }
        /* Anima√ß√£o suave de entrada */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-[#5f356d] flex items-center justify-center min-h-screen p-4">

    <!-- Container Principal do Quiz -->
    <div class="quiz-card w-full max-w-2xl p-8 md:p-12 rounded-2xl shadow-2xl transition-all duration-300 text-gray-900 relative overflow-hidden">

        <!-- DECORA√á√ÉO DE FUNDO (Opcional, para dar um charme) -->
        <div class="absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-[#ff3333] rounded-full opacity-10 pointer-events-none"></div>
        <div class="absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-[#5f356d] rounded-full opacity-10 pointer-events-none"></div>

        <!-- 0. TELA DE BOAS-VINDAS (NOVA) -->
        <div id="start-view" class="fade-in text-center flex flex-col items-center justify-center min-h-[400px]">
            <!-- Logo Grande -->
            <img id="logo-start" src="./assets/logo.png" onerror="this.src='https://placehold.co/200x80/5f356d/ffffff?text=FAB+LAB+REC&font=roboto'" alt="Logo Fab Lab" class="mb-8 h-20 object-contain">
            
            <h1 class="font-title text-4xl font-bold text-[#5f356d] mb-4">
                Ol√°, Maker!
            </h1>
            
            <p class="text-lg text-gray-600 mb-8 max-w-md">
                A inova√ß√£o acontece quando diferentes habilidades se encontram. Voc√™ est√° pronto para descobrir qual √© o seu papel na <strong>Experi√™ncia Escalada</strong>?
            </p>

            <button id="start-btn" class="w-full sm:w-auto bg-[#ff3333] hover:bg-red-600 text-white font-title text-xl font-bold py-4 px-10 rounded-xl shadow-lg transform transition hover:scale-105 duration-200">
                üöÄ Come√ßar Jornada
            </button>
            
            <p class="text-sm text-gray-400 mt-8">Tempo estimado: 3 minutos</p>
        </div>

        <!-- 1. VIS√ÉO DO QUIZ -->
        <div id="quiz-view" class="hidden-view fade-in">
            <!-- Logo Pequeno (Cabe√ßalho) -->
            <div class="flex justify-center mb-6">
                <img src="./assets/logo.png" onerror="this.src='https://placehold.co/150x50/5f356d/ffffff?text=FAB+LAB+REC'" alt="Logo Fab Lab" class="h-8 opacity-80">
            </div>

            <!-- Imagem da Pergunta -->
            <img id="question-image" src="" alt="Ilustra√ß√£o" class="w-full h-48 object-cover rounded-xl mb-6 shadow-md hidden-view bg-gray-100">

            <!-- Contador de Perguntas -->
            <div class="text-xs font-bold text-[#ff3333] tracking-widest uppercase mb-2">
                Pergunta <span id="current-question-num">1</span> de <span id="total-questions-num">8</span>
            </div>

            <!-- Texto da Pergunta -->
            <h2 id="question-text" class="font-title text-2xl md:text-3xl font-bold text-gray-800 mb-8 leading-tight">
                Carregando...
            </h2>

            <!-- Bot√µes de Resposta -->
            <div id="answer-buttons" class="space-y-3">
                <!-- Bot√µes gerados via JS -->
            </div>

            <!-- Navega√ß√£o -->
            <div class="flex justify-between mt-8 pt-6 border-t border-gray-100">
                <button id="prev-button" class="text-gray-400 hover:text-gray-600 font-semibold py-2 px-4 rounded transition-colors flex items-center gap-2">
                    ‚Üê Voltar
                </button>
            </div>
        </div>

        <!-- 2. VIS√ÉO DE RESULTADO -->
        <div id="result-view" class="hidden-view text-center fade-in py-8">
            <div class="mb-6 inline-block p-4 rounded-full bg-gray-50">
                <span class="text-6xl">‚ú®</span>
            </div>
            
            <h2 class="text-gray-500 font-semibold tracking-wide uppercase text-sm mb-2">Seu Perfil Maker √©</h2>
            
            <h1 class="font-title text-3xl md:text-4xl font-bold mb-4 text-[#5f356d]" id="result-title">
                <!-- T√≠tulo do Resultado -->
            </h1>
            
            <div class="inline-block px-4 py-1 rounded-full bg-gray-100 mb-6">
                <p class="font-title text-lg font-semibold" id="result-focus">
                    <!-- Foco do Resultado -->
                </p>
            </div>

            <p class="text-lg text-gray-700 mb-10 leading-relaxed" id="result-description">
                <!-- Descri√ß√£o do Resultado -->
            </p>

            <button id="restart-button" class="w-full bg-gray-800 hover:bg-gray-900 text-white font-bold py-4 px-6 rounded-xl transition-colors duration-200 font-title text-lg">
                Refazer o Quiz
            </button>
        </div>
    </div>

    <!-- L√≥gica do Quiz -->
    <script>
        // --- 1. Dados ---
        const questions = [
            {
                question: "O fio do seu carregador de celular quebrou bem na ponta. Qual sua primeira rea√ß√£o?",
                image: "./assets/q1.jpg",
                answers: [
                    { text: "Pesquiso 'por que fios de carregador quebram?' para evitar que aconte√ßa de novo.", profile: "inspiracao" },
                    { text: "Penso: 'E se eu inventasse um carregador sem fio que usa energia solar?'", profile: "ideacao" },
                    { text: "Pego fita isolante, um arame e tento fazer uma 'gambiarra' para funcionar s√≥ hoje.", profile: "prototipacao" },
                    { text: "Mando foto no grupo dos amigos/fam√≠lia perguntando quem tem um sobrando para me emprestar.", profile: "compartilhamento" }
                ]
            },
            {
                question: "Num trabalho em grupo, quem √© voc√™?",
                image: "./assets/q2.png",
                answers: [
                    { text: "O que faz as perguntas dif√≠ceis e garante que o grupo est√° respondendo ao tema certo.", profile: "inspiracao" },
                    { text: "O que tem a ideia 'diferentona' para a apresenta√ß√£o.", profile: "ideacao" },
                    { text: "O que abre o Canva ou Google Slides e come√ßa a montar o layout e organizar o conte√∫do.", profile: "prototipacao" },
                    { text: "O que divide as tarefas, cobra os prazos e se oferece para apresentar o trabalho.", profile: "compartilhamento" }
                ]
            },
            {
                question: "Voc√™ v√™ um problema cr√¥nico na sua rua (ex: lixo acumulado). O que voc√™ pensa?",
                image: "./assets/q3.png",
                answers: [
                    { text: "Fico observando. Em que hor√°rios acontece? Quem s√£o as pessoas? Qual a raiz disso?", profile: "inspiracao" },
                    { text: "Imagino 10 solu√ß√µes: um app de den√∫ncia, um rob√¥-gari, uma interven√ß√£o art√≠stica...", profile: "ideacao" },
                    { text: "Penso numa solu√ß√£o pr√°tica: 'E se a gente pintasse uma faixa ou colocasse um cesto maior?'", profile: "prototipacao" },
                    { text: "Vou falar com a associa√ß√£o de moradores. Precisamos nos organizar e cobrar uma solu√ß√£o.", profile: "compartilhamento" }
                ]
            },
            {
                question: "Qual destas frases mais te descreve?",
                image: "./assets/q4.png",
                answers: [
                    { text: "Eu preciso entender o 'porqu√™' das coisas antes de agir.", profile: "inspiracao" },
                    { text: "E se a gente fizesse de um jeito *totalmente* diferente?", profile: "ideacao" },
                    { text: "Feito √© melhor que perfeito. Vamos testar logo.", profile: "prototipacao" },
                    { text: "Sozinho a gente vai r√°pido, mas junto a gente vai mais longe.", profile: "compartilhamento" }
                ]
            },
            {
                question: "Voc√™ precisa gravar um v√≠deo mas n√£o tem trip√©. O que voc√™ faz?",
                image: "./assets/q5.png",
                answers: [
                    { text: "Pesquiso tutoriais de 'suporte caseiro' antes de decidir o melhor.", profile: "inspiracao" },
                    { text: "Penso: 'Posso usar um copo? Ou prender com um pregador? Ou um barbante?'", profile: "ideacao" },
                    { text: "Pego dois copos, livros e fita adesiva e monto um suporte agora.", profile: "prototipacao" },
                    { text: "Pe√ßo para um amigo segurar o celular para mim.", profile: "compartilhamento" }
                ]
            },
            {
                question: "Sobre Bras√≠lia, o que mais te fascina?",
                image: "./assets/q6.png",
                answers: [
                    { text: "A hist√≥ria e as motiva√ß√µes pol√≠ticas de JK.", profile: "inspiracao" },
                    { text: "A utopia de Niemeyer e L√∫cio Costa. O desenho da cidade.", profile: "ideacao" },
                    { text: "A engenharia. O desafio de erguer aqueles pr√©dios no meio do nada.", profile: "prototipacao" },
                    { text: "O movimento dos 'Candangos' que constru√≠ram a cidade juntos.", profile: "compartilhamento" }
                ]
            },
            {
                question: "O que mais te move a agir?",
                image: "./assets/q7.png",
                answers: [
                    { text: "Injusti√ßa ou decis√µes tomadas sem entender o problema.", profile: "inspiracao" },
                    { text: "Rotina, t√©dio e fazer as coisas 's√≥ porque sempre foi assim'.", profile: "ideacao" },
                    { text: "Inefici√™ncia. Coisas quebradas que ningu√©m conserta.", profile: "prototipacao" },
                    { text: "Desorganiza√ß√£o e falta de colabora√ß√£o entre as pessoas.", profile: "compartilhamento" }
                ]
            },
            {
                question: "S√°bado livre com R$ 50,00. Qual o rol√™?",
                image: "./assets/q8.png",
                answers: [
                    { text: "Museu, livraria ou visitar um bairro hist√≥rico.", profile: "inspiracao" },
                    { text: "Loja de artesanato ou papelaria para um projeto criativo.", profile: "ideacao" },
                    { text: "Loja de ferramentas para consertar algo em casa.", profile: "prototipacao" },
                    { text: "Juntar com os amigos para comer ou fazer algo em casa.", profile: "compartilhamento" }
                ]
            }
        ];

        const resultsData = {
            inspiracao: {
                title: "O Explorador Emp√°tico",
                focus: "Foco em Sentir e Observar",
                description: "Voc√™ √© a base do projeto! Seu superpoder √© a curiosidade e a escuta ativa. Voc√™ adora investigar os 'porqu√™s', entender as pessoas e definir o problema real antes de agir.",
                colorClass: "text-[#5f356d]"
            },
            ideacao: {
                title: "O Vision√°rio Criativo",
                focus: "Foco em Imaginar e Criar",
                description: "Voc√™ √© a chama da inova√ß√£o! Seu superpoder √© imaginar futuros desej√°veis. Voc√™ pensa fora da caixa, gera m√∫ltiplas alternativas e n√£o tem medo de ideias radicais.",
                colorClass: "text-[#f28020]"
            },
            prototipacao: {
                title: "O Construtor M√£o na Massa",
                focus: "Foco em Construir e Prototipar",
                description: "Voc√™ √© o motor da realiza√ß√£o! Seu superpoder √© transformar ideias em a√ß√£o. Voc√™ adora 'aprender fazendo', testar materiais e usar ferramentas para tornar o futuro palp√°vel.",
                colorClass: "text-[#90851c]"
            },
            compartilhamento: {
                title: "O Conector Colaborativo",
                focus: "Foco em Compartilhar e Mobilizar",
                description: "Voc√™ √© a voz do time! Seu superpoder √© a empatia e o protagonismo. Voc√™ une o grupo, garante que todos sejam ouvidos e sabe como comunicar uma ideia para engajar.",
                colorClass: "text-[#ff3333]"
            }
        };

        // --- 2. Elementos DOM ---
        const startView = document.getElementById('start-view');
        const quizView = document.getElementById('quiz-view');
        const resultView = document.getElementById('result-view');
        
        const questionText = document.getElementById('question-text');
        const answerButtons = document.getElementById('answer-buttons');
        const questionImage = document.getElementById('question-image');
        const prevButton = document.getElementById('prev-button');
        const currentQNum = document.getElementById('current-question-num');
        const totalQNum = document.getElementById('total-questions-num');

        // --- 3. Estado ---
        let currentQuestionIndex = 0;
        let scores = { inspiracao: 0, ideacao: 0, prototipacao: 0, compartilhamento: 0 };
        let answerHistory = [];

        // --- 4. Fun√ß√µes ---
        
        function showScreen(screenId) {
            // Esconde todas
            [startView, quizView, resultView].forEach(el => el.classList.add('hidden-view'));
            // Mostra a desejada
            document.getElementById(screenId).classList.remove('hidden-view');
        }

        function startQuiz() {
            currentQuestionIndex = 0;
            scores = { inspiracao: 0, ideacao: 0, prototipacao: 0, compartilhamento: 0 };
            answerHistory = [];
            showScreen('quiz-view');
            showQuestion();
        }

        function showQuestion() {
            // Atualiza contadores
            currentQNum.innerText = currentQuestionIndex + 1;
            totalQNum.innerText = questions.length;

            // Limpa bot√µes
            answerButtons.innerHTML = '';
            
            const q = questions[currentQuestionIndex];
            questionText.innerText = q.question;

            // Imagem (usa onerror no HTML para fallback se o arquivo local n√£o existir)
            if (q.image) {
                questionImage.src = q.image;
                questionImage.classList.remove('hidden-view');
                // Adiciona fallback gen√©rico caso a imagem local n√£o carregue
                questionImage.onerror = function() { 
                    this.src = `https://placehold.co/600x300/eeeeee/999999?text=Imagem+da+Pergunta+${currentQuestionIndex+1}`; 
                };
            } else {
                questionImage.classList.add('hidden-view');
            }

            // Gera bot√µes
            q.answers.forEach(ans => {
                const btn = document.createElement('button');
                btn.innerText = ans.text;
                btn.className = 'w-full text-left bg-gray-50 hover:bg-[#ff3333] hover:text-white text-gray-700 font-medium py-4 px-6 rounded-xl transition-all duration-200 border border-gray-200 hover:border-[#ff3333] shadow-sm hover:shadow-md';
                btn.onclick = () => selectAnswer(ans.profile);
                answerButtons.appendChild(btn);
            });

            // Bot√£o Voltar
            prevButton.style.opacity = currentQuestionIndex === 0 ? '0' : '1';
            prevButton.style.pointerEvents = currentQuestionIndex === 0 ? 'none' : 'auto';
        }

        function selectAnswer(profile) {
            scores[profile]++;
            answerHistory.push(profile);
            currentQuestionIndex++;

            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                const lastProfile = answerHistory.pop();
                scores[lastProfile]--;
                showQuestion();
            }
        }

        function showResult() {
            showScreen('result-view');

            // Calcula vencedor
            let max = -1;
            let winner = 'inspiracao';
            for (let p in scores) {
                if (scores[p] > max) {
                    max = scores[p];
                    winner = p;
                }
            }

            const data = resultsData[winner];
            document.getElementById('result-title').innerText = data.title;
            const focusEl = document.getElementById('result-focus');
            focusEl.innerText = data.focus;
            
            // Reseta cores e aplica a do vencedor
            focusEl.className = `font-title text-xl font-semibold ${data.colorClass}`;
            
            document.getElementById('result-description').innerText = data.description;
        }

        // --- 5. Eventos ---
        document.getElementById('start-btn').addEventListener('click', startQuiz);
        document.getElementById('restart-button').addEventListener('click', () => showScreen('start-view'));
        prevButton.addEventListener('click', prevQuestion);

        // Inicializa na tela de In√≠cio
        showScreen('start-view');

    </script>
</body>
</html>